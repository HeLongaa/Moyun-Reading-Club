"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[15],{2015:(e,o,r)=>{r.r(o),r.d(o,{default:()=>_});var l=r(641),a=r(3751),t=r(33);const u={class:"register-container"},s={class:"form-group"},n={class:"form-group"},d={class:"form-group"},i={class:"form-group"},p={class:"form-group"},c={class:"form-group"},m={class:"form-group"},h={key:0,class:"error-msg"},k=["disabled"],f={class:"auth-links"};function L(e,o,r,L,b,v){const g=(0,l.g2)("router-link"),y=(0,l.g2)("AuthLayout");return(0,l.uX)(),(0,l.Wv)(y,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",u,[o[17]||(o[17]=(0,l.Lk)("h2",null,"加入墨云读书会",-1)),(0,l.Lk)("form",{onSubmit:o[7]||(o[7]=(0,a.D$)(((...e)=>v.handleSubmit&&v.handleSubmit(...e)),["prevent"]))},[(0,l.Lk)("div",s,[o[8]||(o[8]=(0,l.Lk)("label",null,"用户名",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>b.form.account=e),required:"",placeholder:"请输入用户名"},null,512),[[a.Jo,b.form.account]])]),(0,l.Lk)("div",n,[o[9]||(o[9]=(0,l.Lk)("label",null,"邮箱",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>b.form.email=e),type:"email",required:"",placeholder:"请输入有效邮箱"},null,512),[[a.Jo,b.form.email]])]),(0,l.Lk)("div",d,[o[10]||(o[10]=(0,l.Lk)("label",null,"手机号",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>b.form.telephone=e),required:"",placeholder:"请输入手机号"},null,512),[[a.Jo,b.form.telephone]])]),(0,l.Lk)("div",i,[o[11]||(o[11]=(0,l.Lk)("label",null,"个性签名",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>b.form.signature=e),placeholder:"一句话介绍自己（可选）"},null,512),[[a.Jo,b.form.signature]])]),(0,l.Lk)("div",p,[o[13]||(o[13]=(0,l.Lk)("label",null,"身份",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>b.form.role=e),required:""},o[12]||(o[12]=[(0,l.Lk)("option",{value:"student"},"学生",-1),(0,l.Lk)("option",{value:"teacher"},"教师",-1)]),512),[[a.u1,b.form.role]])]),(0,l.Lk)("div",c,[o[14]||(o[14]=(0,l.Lk)("label",null,"密码",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>b.form.password=e),type:"password",required:"",placeholder:"至少8位字符"},null,512),[[a.Jo,b.form.password]])]),(0,l.Lk)("div",m,[o[15]||(o[15]=(0,l.Lk)("label",null,"确认密码",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>b.form.password2=e),type:"password",required:"",placeholder:"再次输入密码"},null,512),[[a.Jo,b.form.password2]])]),b.error?((0,l.uX)(),(0,l.CE)("div",h,(0,t.v_)(b.error),1)):(0,l.Q3)("",!0),(0,l.Lk)("button",{type:"submit",disabled:b.loading,class:"primary-btn"},(0,t.v_)(b.loading?"注册中...":"立即注册"),9,k),(0,l.Lk)("div",f,[(0,l.bF)(g,{to:"/login"},{default:(0,l.k6)((()=>o[16]||(o[16]=[(0,l.eW)("已有账号？立即登录")]))),_:1,__:[16]})])],32)])])),_:1})}var b=r(7162),v=r(6278);const g={components:{AuthLayout:b.A},data(){return{form:{account:"",password:"",email:"",telephone:"",signature:"",role:"student"},loading:!1,error:""}},methods:{...(0,v.i0)("auth",["register"]),async handleSubmit(){this.loading=!0,this.error="";try{await this.register(this.form),this.$router.push("/")}catch(e){this.error=e.response?.data?.message||"注册失败"}finally{this.loading=!1}}},mounted(){this.$store.getters["auth/isAuthenticated"]&&this.$router.push("/")}};var y=r(6262);const w=(0,y.A)(g,[["render",L],["__scopeId","data-v-e4a53442"]]),_=w},7162:(e,o,r)=>{r.d(o,{A:()=>i});var l=r(641);const a={class:"auth-layout"},t={class:"auth-card"};function u(e,o,r,u,s,n){const d=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",a,[(0,l.Lk)("div",t,[(0,l.bF)(d)])])}const s={name:"AuthLayout"};var n=r(6262);const d=(0,n.A)(s,[["render",u],["__scopeId","data-v-836e75a8"]]),i=d}}]);
//# sourceMappingURL=15.d6ae07c4.js.map