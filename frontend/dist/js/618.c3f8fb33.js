"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[618],{2983:(o,e,t)=>{t.d(e,{A:()=>r});var a=t(3814);const r={getBooks:o=>a.A.get("/book",{params:o}),getBookDetail:o=>a.A.get(`/book/${o}`),getBookTypes:()=>a.A.get("/book/types"),createBook:o=>a.A.post("/book",o),updateBook:(o,e)=>a.A.put(`/book/${o}`,e),deleteBook:o=>a.A.delete(`/book/${o}`),uploadBookFile:(o,e)=>{const t=new FormData;return t.append("book",e),a.A.post(`/book/upload/${o}`,t,{headers:{"Content-Type":"multipart/form-data"}})},uploadBookCover:(o,e)=>{const t=new FormData;return t.append("cover",e),a.A.post(`/book/upload-cover/${o}`,t,{headers:{"Content-Type":"multipart/form-data"}})}}},6618:(o,e,t)=>{t.r(e),t.d(e,{default:()=>g});var a=t(641),r=t(33);const k={class:"book-detail"},s={key:0,class:"loading"},n={key:1,class:"error"},l={key:2},d={class:"book-meta"},i={class:"book-desc"},u={class:"book-actions"};function p(o,e,t,p,c,b){const v=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("h2",null,(0,r.v_)(c.book.title),1),c.loading?((0,a.uX)(),(0,a.CE)("div",s,"加载中...")):c.error?((0,a.uX)(),(0,a.CE)("div",n,(0,r.v_)(c.error),1)):((0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("div",d,[(0,a.Lk)("span",null,"作者："+(0,r.v_)(c.book.author),1),(0,a.Lk)("span",null,"出版社："+(0,r.v_)(c.book.publisher),1),(0,a.Lk)("span",null,"类型："+(0,r.v_)(c.book.type),1)]),(0,a.Lk)("div",i,[e[1]||(e[1]=(0,a.Lk)("strong",null,"简介：",-1)),(0,a.Lk)("p",null,(0,r.v_)(c.book.description),1)]),(0,a.Lk)("div",u,[(0,a.bF)(v,{to:`/journal?bookId=${c.book.id}`},{default:(0,a.k6)((()=>e[2]||(e[2]=[(0,a.eW)("查看书评")]))),_:1,__:[2]},8,["to"]),(0,a.Lk)("button",{onClick:e[0]||(e[0]=(...o)=>b.shareBook&&b.shareBook(...o))},"分享")])]))])}var c=t(2983);const b={name:"BookDetail",data(){return{book:{},loading:!0,error:""}},async created(){try{const o=this.$route.params.id,e=await c.A.getBookDetail(o);this.book=e.data.data||{}}catch(o){this.error="加载失败，请稍后重试"}finally{this.loading=!1}},methods:{shareBook(){alert("分享功能开发中")}}};var v=t(6262);const h=(0,v.A)(b,[["render",p],["__scopeId","data-v-23da24ca"]]),g=h}}]);
//# sourceMappingURL=618.c3f8fb33.js.map