{"version":3,"file":"js/618.c3f8fb33.js","mappings":"wIAGA,SAEIA,SAAWC,GAAW,IAAKC,IAAI,QAAS,CAAED,WAG1CE,cAAgBC,GAAO,IAAKF,IAAI,SAASE,KAGzCC,aAAc,IAAM,IAAKH,IAAI,eAG7BI,WAAaC,GAAS,IAAKC,KAAK,QAASD,GAGzCE,WAAY,CAACL,EAAIG,IAAS,IAAKG,IAAI,SAASN,IAAMG,GAGlDI,WAAaP,GAAO,IAAKQ,OAAO,SAASR,KAGzCS,eAAgB,CAACT,EAAIU,KACjB,MAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,OAAQH,GACjB,IAAKN,KAAK,gBAAgBJ,IAAMW,EAAU,CAC7CG,QAAS,CAAE,eAAgB,0BAKnCC,gBAAiB,CAACf,EAAIU,KAClB,MAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB,IAAKN,KAAK,sBAAsBJ,IAAMW,EAAU,CACnDG,QAAS,CAAE,eAAgB,0B,6ECnChCE,MAAM,e,SAEWA,MAAM,W,SACHA,MAAM,S,aAEtBA,MAAM,a,GAKNA,MAAM,a,GAINA,MAAM,gB,0EAdf,QAmBM,MAnBN,EAmBM,EAlBJ,QAAyB,mBAAlB,EAAAC,KAAKC,OAAK,GACN,EAAO,U,WAAlB,QAAgD,MAAhD,EAAoC,WACpB,EAAK,Q,WAArB,QAAsD,MAAtD,GAAsD,QAAd,EAAAC,OAAK,M,WAC7C,QAcM,UAbJ,QAIM,MAJN,EAIM,EAHJ,QAAiC,YAA3B,OAAG,QAAG,EAAAF,KAAKG,QAAM,IACvB,QAAqC,YAA/B,QAAI,QAAG,EAAAH,KAAKI,WAAS,IAC3B,QAA+B,YAAzB,OAAG,QAAG,EAAAJ,KAAKK,MAAI,MAEvB,QAGM,MAHN,EAGM,C,aAFJ,QAAoB,cAAZ,OAAG,KACX,QAA6B,kBAAvB,EAAAL,KAAKM,aAAW,MAExB,QAGM,MAHN,EAGM,EAFJ,QAAkE,GAApDC,GAAE,mBAAqB,EAAAP,KAAKjB,M,mBAAM,IAAI,c,QAAJ,Y,uBAChD,QAAsC,UAA7B,QAAK,oBAAE,EAAAyB,WAAA,EAAAA,aAAA,KAAW,Y,eASnC,SACEC,KAAM,aACN,IAAAvB,GACE,MAAO,CACLc,KAAM,CAAC,EACPU,SAAS,EACTR,MAAO,GAEX,EACA,aAAMS,GACJ,IACE,MAAM5B,EAAK6B,KAAKC,OAAOjC,OAAOG,GACxB+B,QAAY,IAAShC,cAAcC,GACzC6B,KAAKZ,KAAOc,EAAI5B,KAAKA,MAAQ,CAAC,CAChC,CAAE,MAAO6B,GACPH,KAAKV,MAAQ,YACf,CAAE,QACAU,KAAKF,SAAU,CACjB,CACF,EACAM,QAAS,CACP,SAAAR,GACES,MAAM,UACR,I,cC1CJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G","sources":["webpack://frontend/./src/api/books.api.js","webpack://frontend/./src/views/Books/Detail.vue","webpack://frontend/./src/views/Books/Detail.vue?d0cf"],"sourcesContent":["// 检查并确保所有API路径和参数与后端一致\r\nimport http from '@/utils/api'\r\n\r\nexport default {\r\n    // 获取书籍列表（支持分页、类型、搜索）\r\n    getBooks: (params) => http.get('/book', { params }),\r\n\r\n    // 获取书籍详情\r\n    getBookDetail: (id) => http.get(`/book/${id}`),\r\n\r\n    // 获取书籍类型\r\n    getBookTypes: () => http.get('/book/types'),\r\n\r\n    // 创建书籍\r\n    createBook: (data) => http.post('/book', data),\r\n\r\n    // 编辑书籍\r\n    updateBook: (id, data) => http.put(`/book/${id}`, data),\r\n\r\n    // 删除书籍\r\n    deleteBook: (id) => http.delete(`/book/${id}`),\r\n\r\n    // 上传书籍内容\r\n    uploadBookFile: (id, file) => {\r\n        const formData = new FormData()\r\n        formData.append('book', file)\r\n        return http.post(`/book/upload/${id}`, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n        })\r\n    },\r\n\r\n    // 上传书籍封面\r\n    uploadBookCover: (id, file) => {\r\n        const formData = new FormData()\r\n        formData.append('cover', file)\r\n        return http.post(`/book/upload-cover/${id}`, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n        })\r\n    }\r\n}","<template>\r\n  <div class=\"book-detail\">\r\n    <h2>{{ book.title }}</h2>\r\n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n    <div v-else-if=\"error\" class=\"error\">{{ error }}</div>\r\n    <div v-else>\r\n      <div class=\"book-meta\">\r\n        <span>作者：{{ book.author }}</span>\r\n        <span>出版社：{{ book.publisher }}</span>\r\n        <span>类型：{{ book.type }}</span>\r\n      </div>\r\n      <div class=\"book-desc\">\r\n        <strong>简介：</strong>\r\n        <p>{{ book.description }}</p>\r\n      </div>\r\n      <div class=\"book-actions\">\r\n        <router-link :to=\"`/journal?bookId=${book.id}`\">查看书评</router-link>\r\n        <button @click=\"shareBook\">分享</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport booksApi from '@/api/books.api'\r\n\r\nexport default {\r\n  name: 'BookDetail',\r\n  data() {\r\n    return {\r\n      book: {},\r\n      loading: true,\r\n      error: ''\r\n    }\r\n  },\r\n  async created() {\r\n    try {\r\n      const id = this.$route.params.id\r\n      const res = await booksApi.getBookDetail(id)\r\n      this.book = res.data.data || {}\r\n    } catch (e) {\r\n      this.error = '加载失败，请稍后重试'\r\n    } finally {\r\n      this.loading = false\r\n    }\r\n  },\r\n  methods: {\r\n    shareBook() {\r\n      alert('分享功能开发中')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.book-detail {\r\n  max-width: 700px;\r\n  margin: 0 auto;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.04);\r\n  padding: 32px 24px;\r\n}\r\n.loading {\r\n  text-align: center;\r\n  color: #888;\r\n  margin: 32px 0;\r\n}\r\n.error {\r\n  color: #e63946;\r\n  text-align: center;\r\n  margin: 32px 0;\r\n}\r\n.book-meta {\r\n  color: #888;\r\n  font-size: 0.98rem;\r\n  margin-bottom: 12px;\r\n  display: flex;\r\n  gap: 24px;\r\n}\r\n.book-desc {\r\n  margin-bottom: 24px;\r\n  color: #22223b;\r\n  font-size: 1.05rem;\r\n}\r\n.book-actions {\r\n  display: flex;\r\n  gap: 16px;\r\n}\r\n.book-actions button {\r\n  padding: 4px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background: #4a4e69;\r\n  color: #fff;\r\n  cursor: pointer;\r\n}\r\n</style>","import { render } from \"./Detail.vue?vue&type=template&id=23da24ca&scoped=true\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=23da24ca&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23da24ca\"]])\n\nexport default __exports__"],"names":["getBooks","params","get","getBookDetail","id","getBookTypes","createBook","data","post","updateBook","put","deleteBook","delete","uploadBookFile","file","formData","FormData","append","headers","uploadBookCover","class","book","title","error","author","publisher","type","description","to","shareBook","name","loading","created","this","$route","res","e","methods","alert","__exports__","render"],"sourceRoot":""}