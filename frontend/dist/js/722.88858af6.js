"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[722],{722:(e,l,c)=>{c.r(l),c.d(l,{default:()=>y});var a=c(641),s=c(3751),i=c(33),t=c(953),n=c(6278),u=c(5220);const r={class:"circle-list"},d={class:"header"},o={class:"circles"},v=["onClick"],k=["src"],p={class:"circle-info"},h={class:"circle-name"},b={class:"circle-desc"},L={class:"circle-meta"},m={class:"pagination"},C=["disabled"],g=["disabled"],f=10,_="/static/groupIcon/default.png",E={__name:"List",setup(e){const l=(0,n.Pj)(),c=(0,u.rd)(),E=(0,t.KR)(""),K=(0,t.KR)(1),X=(0,a.EW)((()=>l.getters["circle/groups"])),y=(0,a.EW)((()=>"teacher"===l.state.auth.user?.role||"admin"===l.state.auth.user?.role)),I=()=>{l.dispatch("circle/fetchGroups",{page:K.value,limit:f,search:E.value})};(0,a.sV)(I);const R=()=>c.push("/circle/create"),j=e=>c.push(`/circle/${e}`);return(e,l)=>((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",d,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>E.value=e),placeholder:"搜索圈子...",onKeyup:(0,s.jR)(I,["enter"])},null,544),[[s.Jo,E.value]]),y.value?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:R},"新建圈子")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",o,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(X.value,(e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"circle-card",onClick:l=>j(e.id)},[(0,a.Lk)("img",{src:e.icon||_,class:"circle-icon"},null,8,k),(0,a.Lk)("div",p,[(0,a.Lk)("div",h,(0,i.v_)(e.name),1),(0,a.Lk)("div",b,(0,i.v_)(e.description),1),(0,a.Lk)("div",L,"成员数："+(0,i.v_)(e.memberCount||e.members?.length||"-"),1)])],8,v)))),128))]),(0,a.Lk)("div",m,[(0,a.Lk)("button",{disabled:1===K.value,onClick:l[1]||(l[1]=e=>K.value--&&I())},"上一页",8,C),(0,a.Lk)("span",null,"第"+(0,i.v_)(K.value)+"页",1),(0,a.Lk)("button",{disabled:X.value.length<f,onClick:l[2]||(l[2]=e=>K.value++&&I())},"下一页",8,g)])]))}};var K=c(6262);const X=(0,K.A)(E,[["__scopeId","data-v-00bad9a4"]]),y=X}}]);
//# sourceMappingURL=722.88858af6.js.map