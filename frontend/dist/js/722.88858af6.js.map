{"version":3,"file":"js/722.88858af6.js","mappings":"obA+BMA,EAAQ,GACRC,EAAc,gC,0BALpB,MAAMC,GAAQ,UACRC,GAAS,UACTC,GAAS,QAAI,IACbC,GAAO,QAAI,GAGXC,GAAS,SAAS,IAAMJ,EAAMK,QAAQ,mBACtCC,GAAY,SAAS,IAAsC,YAAhCN,EAAMO,MAAMC,KAAKC,MAAMC,MAAsD,UAAhCV,EAAMO,MAAMC,KAAKC,MAAMC,OAC/FC,EAAc,KAClBX,EAAMY,SAAS,qBAAsB,CAAET,KAAMA,EAAKU,MAAOf,QAAOI,OAAQA,EAAOW,UAEjF,QAAUF,GACV,MAAMG,EAAW,IAAMb,EAAOc,KAAK,kBAC7BC,EAAWC,GAAMhB,EAAOc,KAAK,WAAWE,K,0BAvC5C,QAoBM,MApBN,EAoBM,EAnBJ,QAGM,MAHN,EAGM,E,SAFJ,QAA2E,S,uCAArD,SAAEC,YAAY,UAAW,SAAK,QAAQP,EAAW,Y,iBAAvDT,EAAA,SACFI,EAAS,Q,WAAvB,QAAwD,U,MAA9B,QAAOQ,GAAU,U,kBAE7C,QASM,MATN,EASM,G,aARJ,QAOM,mBAPWV,EAAA,OAALe,K,WAAZ,QAOM,OAPoBC,IAAKD,EAAEF,GAAII,MAAM,cAAe,QAAK,GAAEL,EAASG,EAAEF,K,EAC1E,QAAwD,OAAlDK,IAAKH,EAAEI,MAAQxB,EAAasB,MAAM,e,WACxC,QAIM,MAJN,EAIM,EAHJ,QAA2C,MAA3C,GAA2C,QAAfF,EAAEK,MAAI,IAClC,QAAkD,MAAlD,GAAkD,QAAtBL,EAAEM,aAAW,IACzC,QAAoF,MAApF,EAAyB,QAAI,QAAGN,EAAEO,aAAgBP,EAAEQ,SAASC,QAAU,KAAJ,M,iBAIzE,QAIM,MAJN,EAIM,EAHJ,QAA0E,UAAjEC,SAAiB,IAAP1B,EAAA,MAAW,QAAK,eAAEA,EAAA,SAAUQ,MAAe,MAAG,MACjE,QAAyB,YAAnB,KAAC,QAAGR,EAAA,OAAO,IAAC,IAClB,QAAqF,UAA5E0B,SAAUzB,EAAO,MAAAwB,OAAO9B,EAAQ,QAAK,eAAEK,EAAA,SAAUQ,MAAe,MAAG,S,iBCblF,MAAMmB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://frontend/./src/views/Circle/List.vue","webpack://frontend/./src/views/Circle/List.vue?4fb1"],"sourcesContent":["<template>\r\n  <div class=\"circle-list\">\r\n    <div class=\"header\">\r\n      <input v-model=\"search\" placeholder=\"搜索圈子...\" @keyup.enter=\"fetchGroups\" />\r\n      <button v-if=\"canCreate\" @click=\"goCreate\">新建圈子</button>\r\n    </div>\r\n    <div class=\"circles\">\r\n      <div v-for=\"g in groups\" :key=\"g.id\" class=\"circle-card\" @click=\"goDetail(g.id)\">\r\n        <img :src=\"g.icon || defaultIcon\" class=\"circle-icon\" />\r\n        <div class=\"circle-info\">\r\n          <div class=\"circle-name\">{{ g.name }}</div>\r\n          <div class=\"circle-desc\">{{ g.description }}</div>\r\n          <div class=\"circle-meta\">成员数：{{ g.memberCount || (g.members?.length || '-') }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"pagination\">\r\n      <button :disabled=\"page===1\" @click=\"page-- && fetchGroups()\">上一页</button>\r\n      <span>第{{ page }}页</span>\r\n      <button :disabled=\"groups.length<limit\" @click=\"page++ && fetchGroups()\">下一页</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { useRouter } from 'vue-router'\r\nconst store = useStore()\r\nconst router = useRouter()\r\nconst search = ref('')\r\nconst page = ref(1)\r\nconst limit = 10\r\nconst defaultIcon = '/static/groupIcon/default.png'\r\nconst groups = computed(() => store.getters['circle/groups'])\r\nconst canCreate = computed(() => store.state.auth.user?.role === 'teacher' || store.state.auth.user?.role === 'admin')\r\nconst fetchGroups = () => {\r\n  store.dispatch('circle/fetchGroups', { page: page.value, limit, search: search.value })\r\n}\r\nonMounted(fetchGroups)\r\nconst goCreate = () => router.push('/circle/create')\r\nconst goDetail = id => router.push(`/circle/${id}`)\r\n</script>\r\n<style scoped>\r\n.circle-list { max-width: 900px; margin: 2rem auto; }\r\n.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }\r\n.circles { display: flex; flex-wrap: wrap; gap: 1rem; }\r\n.circle-card { width: 260px; background: #fff; border-radius: 8px; box-shadow: 0 2px 8px #eee; padding: 1rem; cursor: pointer; display: flex; }\r\n.circle-icon { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-right: 1rem; }\r\n.circle-info { flex: 1; }\r\n.circle-name { font-weight: bold; font-size: 1.1rem; margin-bottom: 0.5rem; }\r\n.circle-desc { color: #888; font-size: 0.95rem; margin-bottom: 0.5rem; }\r\n.circle-meta { color: #409eff; font-size: 0.9rem; }\r\n.pagination { margin: 1.5rem 0; text-align: center; }\r\nbutton { background: #409eff; color: #fff; border: none; border-radius: 4px; padding: 0.4rem 1.2rem; cursor: pointer; }\r\nbutton:disabled { background: #ccc; cursor: not-allowed; }\r\n</style>\r\n","import script from \"./List.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./List.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./List.vue?vue&type=style&index=0&id=00bad9a4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-00bad9a4\"]])\n\nexport default __exports__"],"names":["limit","defaultIcon","store","router","search","page","groups","getters","canCreate","state","auth","user","role","fetchGroups","dispatch","value","goCreate","push","goDetail","id","placeholder","g","key","class","src","icon","name","description","memberCount","members","length","disabled","__exports__"],"sourceRoot":""}