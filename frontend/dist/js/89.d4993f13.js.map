{"version":3,"file":"js/89.d4993f13.js","mappings":"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","sources":["webpack://frontend/./src/views/Comments/Detail.vue","webpack://frontend/./src/api/comments.api.js","webpack://frontend/./src/views/Comments/Detail.vue?b029"],"sourcesContent":["<template>\r\n  <div class=\"comment-detail\">\r\n    <h2>ËØÑËÆ∫ËØ¶ÊÉÖ</h2>\r\n    <div v-if=\"loading\" class=\"loading\">Âä†ËΩΩ‰∏≠...</div>\r\n    <div v-else-if=\"error\" class=\"error\">{{ error }}</div>\r\n    <div v-else>\r\n      <div class=\"comment-meta\">\r\n        <span class=\"author\">{{ comment.author?.account || comment.author_id }}</span>\r\n        <span class=\"time\">{{ comment.publish_time?.slice(0,16) }}</span>\r\n      </div>\r\n      <div class=\"comment-content\">\r\n        <p>{{ comment.content }}</p>\r\n      </div>\r\n      <div class=\"comment-actions\">\r\n        <button @click=\"likeComment\" :disabled=\"liked\">üëç {{ comment.likeCount || 0 }} Ëµû</button>\r\n        <button @click=\"replying = !replying\">ÂõûÂ§ç</button>\r\n      </div>\r\n      <div v-if=\"replying\" class=\"reply-box\">\r\n        <textarea v-model=\"replyText\" placeholder=\"ÂÜô‰∏ã‰Ω†ÁöÑÂõûÂ§ç...\" rows=\"3\"></textarea>\r\n        <button @click=\"submitReply\" :disabled=\"!replyText.trim()\">Êèê‰∫§</button>\r\n      </div>\r\n      <div v-if=\"replies.length\" class=\"replies\">\r\n        <div class=\"reply\" v-for=\"reply in replies\" :key=\"reply.id\">\r\n          <span class=\"reply-author\">{{ reply.author?.account || reply.author_id }}</span>Ôºö\r\n          <span class=\"reply-content\">{{ reply.content }}</span>\r\n          <span class=\"reply-time\">{{ reply.publish_time?.slice(0,16) }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport commentsApi from '@/api/comments.api'\r\n\r\nexport default {\r\n  name: 'CommentDetail',\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      liked: false,\r\n      replying: false,\r\n      replyText: '',\r\n      comment: {},\r\n      replies: [],\r\n      error: ''\r\n    }\r\n  },\r\n  async created() {\r\n    await this.fetchDetail()\r\n  },\r\n  methods: {\r\n    async fetchDetail() {\r\n      this.loading = true\r\n      this.error = ''\r\n      try {\r\n        const id = this.$route.params.id\r\n        // Á°ÆËÆ§ commentsApi.getCommentDetail Â≠òÂú®\r\n        const res = await commentsApi.getCommentDetail(id)\r\n        this.comment = res.data.data || {}\r\n        this.replies = this.comment.replies || []\r\n      } catch (e) {\r\n        this.error = 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï'\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    async likeComment() {\r\n      if (!this.liked) {\r\n        try {\r\n          await commentsApi.interact(this.$route.params.id, 'like')\r\n          this.liked = true\r\n          await this.fetchDetail()\r\n        } catch (e) {\r\n          this.error = 'ÁÇπËµûÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï'\r\n        }\r\n      }\r\n    },\r\n    async submitReply() {\r\n      if (this.replyText.trim()) {\r\n        try {\r\n          await commentsApi.replyComment(this.$route.params.id, { content: this.replyText })\r\n          this.replyText = ''\r\n          this.replying = false\r\n          await this.fetchDetail()\r\n        } catch (e) {\r\n          this.error = 'ÂõûÂ§çÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï'\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loading {\r\n  text-align: center;\r\n  color: #888;\r\n  margin: 32px 0;\r\n}\r\n.comment-meta {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #888;\r\n  font-size: 0.95rem;\r\n  margin-bottom: 8px;\r\n}\r\n.author {\r\n  font-weight: bold;\r\n  color: #22223b;\r\n}\r\n.time {\r\n  font-size: 0.9em;\r\n}\r\n.comment-content {\r\n  margin-bottom: 24px;\r\n  font-size: 1.1rem;\r\n  color: #22223b;\r\n}\r\n.comment-actions {\r\n  display: flex;\r\n  gap: 16px;\r\n  margin-bottom: 16px;\r\n}\r\n.comment-actions button {\r\n  padding: 4px 16px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  background: #4a4e69;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  transition: background 0.2s;\r\n}\r\n.comment-actions button:disabled {\r\n  background: #bfc0c0;\r\n  cursor: not-allowed;\r\n}\r\n.reply-box {\r\n  margin-bottom: 16px;\r\n}\r\n.reply-box textarea {\r\n  width: 100%;\r\n  border-radius: 4px;\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  resize: vertical;\r\n  margin-bottom: 8px;\r\n}\r\n.reply-box button {\r\n  background: #22223b;\r\n}\r\n.replies {\r\n  margin-top: 16px;\r\n  border-top: 1px solid #eee;\r\n  padding-top: 12px;\r\n}\r\n.reply {\r\n  margin-bottom: 8px;\r\n  font-size: 0.98rem;\r\n}\r\n.reply-author {\r\n  color: #4a4e69;\r\n  font-weight: bold;\r\n}\r\n.reply-time {\r\n  color: #aaa;\r\n  font-size: 0.85em;\r\n  margin-left: 8px;\r\n}\r\n.error {\r\n  color: #e63946;\r\n  text-align: center;\r\n  margin: 32px 0;\r\n}\r\n</style>\r\n","// Ê£ÄÊü•Âπ∂Á°Æ‰øùÊâÄÊúâAPIË∑ØÂæÑÂíåÂèÇÊï∞‰∏éÂêéÁ´Ø‰∏ÄËá¥\r\nimport http from '@/utils/api'\r\n\r\nexport default {\r\n    // Ëé∑Âèñ‰π¶ËØÑËØÑËÆ∫\r\n    getJournalComments: (journalId, params) => http.get(`/journal/${journalId}/comments`, { params }),\r\n\r\n    // Ê∑ªÂä†ËØÑËÆ∫\r\n    addJournalComment: (journalId, data) => http.post(`/journal/${journalId}/comments`, data),\r\n\r\n    // Âà†Èô§ËØÑËÆ∫\r\n    deleteJournalComment: (journalId, commentId) => http.delete(`/journal/${journalId}/comments/${commentId}`),\r\n\r\n    // ÁÇπËµû/ÂèñÊ∂àÁÇπËµû\r\n    likeJournal: (journalId) => http.post(`/journal/${journalId}/like`),\r\n\r\n    // Ëé∑Âèñ‰π¶ËØÑÂàóË°®\r\n    getJournals: (params) => http.get('/journal', { params }),\r\n\r\n    // Ëé∑Âèñ‰π¶ËØÑËØ¶ÊÉÖ\r\n    getJournal: (id) => http.get(`/journal/${id}`),\r\n\r\n    // ÂàõÂª∫‰π¶ËØÑ\r\n    createJournal: (data) => http.post('/journal', data),\r\n\r\n    // ÁºñËæë‰π¶ËØÑ\r\n    updateJournal: (id, data) => http.put(`/journal/${id}`, data),\r\n\r\n    // Âà†Èô§‰π¶ËØÑ\r\n    deleteJournal: (id) => http.delete(`/journal/${id}`),\r\n\r\n    // ‰∏ä‰º†‰π¶ËØÑÂ§¥Âõæ\r\n    uploadJournalHeader: (id, file) => {\r\n        const formData = new FormData()\r\n        formData.append('header', file)\r\n        return http.post(`/journal/upload-header/${id}`, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n        })\r\n    },\r\n\r\n    // Ëé∑ÂèñÂçïÊù°ËØÑËÆ∫ËØ¶ÊÉÖÔºàÂ¶ÇÂêéÁ´ØÊîØÊåÅÔºâ\r\n    getCommentDetail: (id) => http.get(`/comment/${id}`),\r\n\r\n    // ËØÑËÆ∫ÁÇπËµû/‰∫íÂä®ÔºàÂ¶ÇÂêéÁ´ØÊîØÊåÅÔºâ\r\n    interact: (id, action) => http.post(`/comment/${id}/interact`, { action }),\r\n\r\n    // ÂõûÂ§çËØÑËÆ∫ÔºàÂ¶ÇÂêéÁ´ØÊîØÊåÅÔºâ\r\n    replyComment: (id, data) => http.post(`/comment/${id}/reply`, data)\r\n}","import { render } from \"./Detail.vue?vue&type=template&id=bc817b2c&scoped=true\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=bc817b2c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bc817b2c\"]])\n\nexport default __exports__"],"names":["class","error","comment","author","account","author_id","publish_time","slice","content","likeComment","disabled","liked","likeCount","replying","placeholder","rows","replyText","submitReply","trim","replies","reply","key","id","getJournalComments","journalId","params","get","addJournalComment","data","post","deleteJournalComment","commentId","delete","likeJournal","getJournals","getJournal","createJournal","updateJournal","put","deleteJournal","uploadJournalHeader","file","formData","FormData","append","headers","getCommentDetail","interact","action","replyComment","name","loading","created","this","fetchDetail","methods","$route","res","e","__exports__","render"],"sourceRoot":""}