"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[893],{1893:(t,r,e)=>{e.r(r),e.d(r,{default:()=>b});var o=e(641),a=e(3751),s=e(33);const n={class:"login-container"},u={class:"form-group"},l={class:"form-group"},d={key:0,class:"error-msg"},i=["disabled"],c={class:"auth-links"};function h(t,r,e,h,p,m){const k=(0,o.g2)("router-link"),f=(0,o.g2)("AuthLayout");return(0,o.uX)(),(0,o.Wv)(f,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",n,[r[6]||(r[6]=(0,o.Lk)("h2",null,"欢迎登录墨云读书会",-1)),(0,o.Lk)("form",{onSubmit:r[2]||(r[2]=(0,a.D$)(((...t)=>m.handleSubmit&&m.handleSubmit(...t)),["prevent"]))},[(0,o.Lk)("div",u,[r[3]||(r[3]=(0,o.Lk)("label",null,"账号/邮箱",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>p.form.account=t),required:"",placeholder:"请输入账号或邮箱"},null,512),[[a.Jo,p.form.account]])]),(0,o.Lk)("div",l,[r[4]||(r[4]=(0,o.Lk)("label",null,"密码",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>p.form.password=t),type:"password",required:"",placeholder:"请输入密码"},null,512),[[a.Jo,p.form.password]])]),p.error?((0,o.uX)(),(0,o.CE)("div",d,(0,s.v_)(p.error),1)):(0,o.Q3)("",!0),(0,o.Lk)("button",{type:"submit",disabled:p.loading,class:"primary-btn"},(0,s.v_)(p.loading?"登录中...":"登录"),9,i),(0,o.Lk)("div",c,[(0,o.bF)(k,{to:"/register"},{default:(0,o.k6)((()=>r[5]||(r[5]=[(0,o.eW)("没有账号？立即注册")]))),_:1,__:[5]})])],32)])])),_:1})}var p=e(7162),m=e(6278);const k={components:{AuthLayout:p.A},data(){return{form:{account:"",password:""},loading:!1,error:""}},methods:{...(0,m.i0)("auth",["login"]),async handleSubmit(){this.loading=!0,this.error="";try{await this.login(this.form),this.$router.push("/")}catch(t){this.error=t.response?.data?.message||"登录失败"}finally{this.loading=!1}}},mounted(){this.$store.getters["auth/isAuthenticated"]&&this.$router.push("/")}};var f=e(6262);const v=(0,f.A)(k,[["render",h],["__scopeId","data-v-755cc65c"]]),b=v},7162:(t,r,e)=>{e.d(r,{A:()=>i});var o=e(641);const a={class:"auth-layout"},s={class:"auth-card"};function n(t,r,e,n,u,l){const d=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",s,[(0,o.bF)(d)])])}const u={name:"AuthLayout"};var l=e(6262);const d=(0,l.A)(u,[["render",n],["__scopeId","data-v-836e75a8"]]),i=d}}]);
//# sourceMappingURL=893.793474ce.js.map